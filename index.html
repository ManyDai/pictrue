<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>复制文本测试</title>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
</head>
<body>
<button class="copy">Copy</button>
<p id='obj'>fff</p>
<script>
!function copy(clickobj,copyobj)
{
    var copyBtn = document.querySelector(clickobj)

    copyBtn.onclick = function() {
      copyTextToClipboard(document.querySelector(copyobj).innerHTML)
    }

    function copyTextToClipboard(text) {
      var textArea = document.createElement("textarea");
      textArea.value = text;

      document.body.appendChild(textArea);

      textArea.select();

      try {
        var msg = document.execCommand('copy') ? '成功' : '失败'
        console.log('复制内容 ' + msg)
      } catch (err) {
        console.log('不能使用这种方法复制内容')
      }

      document.body.removeChild(textArea);
  }

}('.copy','#obj')
</script>


</body>
</html>
